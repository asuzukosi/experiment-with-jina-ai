# Generated by Raptor's LabSDK
apiVersion: k8s.raptor.ml/v1alpha1
kind: Feature
metadata:
  name: total-spend
  namespace: default
  labels: {}
  annotations:
    a8r.io/description: total spend by a customer in the last hour
spec:
  primitive: float
  freshness: 1h
  staleness: 10h
  timeout: null
  keepPrevious: null
  keys:
  - customer_id
  dataSource:
    name: bank-transaction
    namespace: default
  builder:
    runtime: null
    packages: null
    kind: null
    aggr:
    - 'sum'
    aggrGranularity: 1h
    code: |-
      def total_spend(this_row, ctx) -> float:
        """total spend by a customer in the last hour"""
        return this_row['amount']
